<div class="row video-grid" data-controller="video">
  <% @tunes.each do |tune| %>
    <div class="col-xs-12 col-sm-4 video">
      <div class="video-container" id="container-<%= tune.youtube_video_id %>"/>
        <div class="video" id="youtube-placeholder-<%= tune.youtube_video_id %>">
          <button class='play-button hidden d-block' data-action="click->video#play"
            data-video-id-param="<%= tune.id%>"
            data-video-youtube-id-param="<%= tune.youtube_video_id%>" data-video-view-count-param="<%= tune.views %>">
            <span class="visually-hidden">Play</span>
          </button>
        </div>
        <div class="icon icon-relative-top-right d-flex">
          <%= link_to edit_tune_path(tune), class: "edit-button" do %>
            <i class="bi bi-pencil-square" aria-hidden="true"><span class="visually-hidden-focusable">Edit Song</span></i>
          <% end %>
          <%= link_to tune_path(tune), class: "delete-button", data: { turbo_confirm: "Are you sure you want to delete this tune?", turbo_method: :delete }  do %>
            <i class="bi bi-trash"><span class="visually-hidden-focusable">Delete Song</span></i>
          <% end %>
        </div>
        <% unless tune.game_title.blank? && tune.song_title.blank? %>
          <div class="caption">
            <div class="caption-text">
              <p><%= tune.game_title %> - <%= tune.song_title %></p>
            </div>
            <div class="caption-views text-end">
              <i class="bi bi-eye" aria-hidden="true"></i> <span data-video-target="viewCount" id="view-count-<%= tune.youtube_video_id %>"><%= tune.views %></span>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
